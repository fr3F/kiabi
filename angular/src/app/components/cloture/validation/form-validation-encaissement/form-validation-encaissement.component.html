<div *ngIf="encaissement">
    <div class="row">
        <div class="col-md-6">
            <table class="table">
                <tr>
                    <th>Magasin</th>
                    <td>{{encaissement.magasin}}</td>
                </tr>
                <tr>
                    <th>Caisse n°</th>
                    <td>{{encaissement.nocaisse}}</td>
                </tr>
                <tr>
                    <th>Caissier</th>
                    <td>{{encaissement.caissier.nom}} {{encaissement.caissier.prenom}}</td>
                </tr>
                <tr>
                    <th>Date ouverture</th>
                    <td>{{encaissement.createdAt | date: 'dd-MM-yyyy HH:mm'}}</td>
                </tr>
            </table>
        </div>
        <div class="col-md-6">
            <table class="table">
                <tr>
                    <th>Date fermeture</th>
                    <td>{{encaissement.endAt | date: 'dd-MM-yyyy HH:mm'}}</td>
                </tr>
                <tr>
                    <th>Fond de caisse</th>
                    <td>{{encaissement.fonddecaisse | appcurrency}}</td>
                </tr>
                <tr>
                    <th>Montant caisse</th>
                    <td>{{encaissement.contenucaisse | appcurrency}}</td>
                </tr>
                <tr>
                    <th>Nombre ticket</th>
                    <td>{{encaissement.nbTickets | number}}</td>
                </tr>
            </table>
        </div>

        <div class="col-md-6">
            <app-list-billetage [list]="encaissement.billetages"></app-list-billetage>
        </div>

        <div class="col-md-6">
            <app-list-reglements [encaissement]="encaissement" [acces]="acces" [totalReglement]="totalReglement"></app-list-reglements>
        </div>

        <div class="col-md-6 mx-auto">
            <div class="mt-2">
                <label>Montant reçu</label>
                <input type="number" step="0.1" class="form-control text-right" [(ngModel)]="especeRecu">
            </div>

            <div class="mt-2 text-center">
                <button class="btn btn-success" (click)="verifierEcart()">Valider</button>
            </div>
        </div>
    </div>

</div>



<ng-template #modalEcart role="document" let-modal>
    <div class="modal-header">
        <h5 class="modal-title mt-0">Confirmer l'écart</h5>
        <button type="button" class="btn-close" aria-hidden="true" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <label>Veuillez confirmer le motif de l'écart</label>
        <textarea rows="5" [(ngModel)]="motif" class="form-control">{{motif}}</textarea>
        <div class="mt-2 mb-2 text-center">
            <button class="btn btn-sm btn-success" (click)="valider()">Confirmer</button>
        </div>
    </div>
</ng-template>

