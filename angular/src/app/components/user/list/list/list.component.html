<div *ngIf="users&&users.length==0" class="mx-auto" style="margin-top: 40px;">
  <p class="alert alert-info">Aucun utilisateur</p>
</div>

<div *ngIf="users&&users.length!=0" class="table-responsive">
    <!-- <div class="table-responsive mb-0" *ngIf=" productsData.length != 10; else productsContent"> -->
    <!-- <table class="table align-middle table-nowrap"> -->
    <table class="table table-centered table-nowrap table-bordered">
      <thead class="table-light">
        <tr>
          <th scope="col" class="align-middle">Nom</th>
          <th scope="col" class="align-middle">Prénom</th>
          <th scope="col" class="align-middle">Email</th>
          <th scope="col" class="align-middle">Rôle</th>
          <th scope="col" class="align-middle">Store code</th>
          <th scope="col" class="align-middle">Statut</th>
          <!-- <th scope="col" class="align-middle">Prix</th> -->
          <th *ngIf="!masquerAction()" scope="col" class="align-middle">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users | paginate : {
              itemsPerPage: pageSize,
              currentPage: page,
              totalItems: count
            };
          let i = index"
        >
            <td>{{user.nom}}</td>
            <td>{{user.prenom}}</td>
            <td>{{user.email}}</td>
            <td>{{user.role.nom}}</td>
            <td>{{user.storeCode}}</td>
            <td>
              <span *ngIf="user.active"
                  class="badge badge-pill badge-soft-success font-size-11">
                  Activé
              </span>
              <span *ngIf="!user.active"
                  class="badge badge-pill badge-soft-danger font-size-11">
                  Désactivé
              </span>
            </td>
            <td style="text-align: center;" *ngIf="fonctionnalites&&!masquerAction()" placement="bottom-right">
              <a
                  routerLink="/user/user-edit/{{user.id}}"
                  href="javascript: void(0);"
                  ngbTooltip="Modifier"
                  *ngIf="acces.modifier"
                ><i class="fas fa-pencil-alt text-success me-1"></i>
              </a>
              <a
                routerLink="/user/user-edit-password/{{user.id}}"
                href="javascript: void(0);"
                ngbTooltip="Modifier mot de passe"
                *ngIf="acces.modifierMdp"
                ><i class="fas fa-lock text-info me-1"></i>
              </a>
              <a
                (click)="resetPassword(i)" 
                ngbTooltip="Réinitialiser mot de passe"
                *ngIf="acces.reinitialiserMdp"
                href="javascript: void(0);" 
                ><i class="fas fa-unlock text-danger me-1"></i>
              </a>
              <a [ngbTooltip]="user.active?'Désactiver':'Activer'" (click)="activerOuDesactiver(i)" 
              *ngIf="acces.activer"

              ><i class="far fa-check-square text-secondary me-1"></i>
                <span *ngIf="!user.active"></span>
                <span *ngIf="user.active"></span>
              </a>
            </td>
        </tr>
      </tbody>
    </table>
  </div>
